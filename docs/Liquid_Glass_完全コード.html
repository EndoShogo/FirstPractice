<!DOCTYPE html>
<!-- HTML5の文書タイプ宣言：このファイルがHTML5で書かれていることをブラウザに伝える -->
<html lang="ja">
<!-- HTMLの開始タグ：lang="ja"で日本語のページであることを示す -->

<head>
    <!-- ヘッドセクション：ページの設定情報を書く場所（表示されない） -->
    
    <meta charset="UTF-8">
    <!-- 文字コードの指定：UTF-8を使うことで日本語や絵文字が正しく表示される -->
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- ブラウザ互換性の設定：古いIEでも最新の表示モードで表示されるようにする -->
    
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!-- レスポンシブデザインの設定：スマホでも正しく表示されるようにする -->
    
    <title>Apple関連ニュース</title>
    <!-- ブラウザのタブに表示されるタイトル -->
    
    <style>
        /* CSSの開始：ここからスタイル（見た目）を設定する */
        
        /* ============================================
           リセットCSS：ブラウザごとのデフォルトスタイルの違いをなくす
           ============================================ */
        * {
            margin: 0;
            /* 全要素の外側の余白を0に：ブラウザごとの違いをなくす */
            padding: 0;
            /* 全要素の内側の余白を0に：ブラウザごとの違いをなくす */
            box-sizing: border-box;
            /* ボックスサイズの計算方法：paddingとborderを幅に含める（計算しやすくなる） */
        }
        
        /* ============================================
           body：ページ全体のスタイル
           ============================================ */
        body {
            font-family: 'Hiragino Kaku Gothic ProN', 'Hiragino Sans', Meiryo, sans-serif;
            /* フォント指定：日本語に適したフォントを優先的に使う */
            
            /* 【Liquid Glass用】背景にグラデーションを設定 */
            background: linear-gradient(
                135deg,
                /* グラデーションの角度：135度（左上から右下へ） */
                #667eea 0%,
                /* 始まりの色：紫がかった青（0%の位置） */
                #764ba2 100%
                /* 終わりの色：濃い紫（100%の位置） */
            );
            /* 例え：ガラスの後ろに美しい夕焼けのような背景がある感じ */
            
            min-height: 100vh;
            /* 最小の高さ：画面の高さいっぱい（背景が画面全体を覆う） */
            /* vh = viewport height（画面の高さ）の100% */
            
            padding: 20px;
            /* ページの端から20ピクセルの余白を設ける */
            
            line-height: 1.6;
            /* 行の高さ：文字サイズの1.6倍（読みやすくなる） */
        }
        
        /* ============================================
           container：記事を入れるコンテナ（中央寄せの箱）
           ============================================ */
        .container {
            max-width: 1200px;
            /* 最大幅：1200ピクセル（それ以上は広がらない） */
            margin: 0 auto;
            /* 左右の余白を自動：中央に配置される */
            /* margin: 0 auto = 上下0、左右自動（中央寄せ） */
        }
        
        /* ============================================
           main-title：ページのタイトル
           ============================================ */
        .main-title {
            font-size: 36px;
            /* フォントサイズ：36ピクセル（大きめのタイトル） */
            font-weight: bold;
            /* フォントの太さ：太字 */
            color: #ffffff;
            /* 文字色：白（背景が暗いので白が見やすい） */
            margin-bottom: 30px;
            /* 下の余白：30ピクセル（タイトルの下にスペース） */
            text-align: center;
            /* テキストの配置：中央揃え */
            
            /* 【Liquid Glass用】タイトルにもガラス効果を追加（オプション） */
            background: rgba(255, 255, 255, 0.1);
            /* 背景色：白を10%の透明度で（半透明の白） */
            backdrop-filter: blur(10px);
            /* 背景のぼかし：10ピクセル（軽いぼかし） */
            -webkit-backdrop-filter: blur(10px);
            /* Safari用のぼかし：-webkit-はSafari用の接頭辞 */
            border: 1px solid rgba(255, 255, 255, 0.2);
            /* 境界線：白を20%の透明度で1ピクセルの線 */
            border-radius: 12px;
            /* 角の丸み：12ピクセル（丸みを帯びた角） */
            padding: 20px;
            /* 内側の余白：20ピクセル（文字の周りにスペース） */
            display: inline-block;
            /* インラインブロック：幅を内容に合わせつつ、ブロック要素として扱う */
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
            /* 影：下に4ピクセル、16ピクセルぼかした黒10%の影 */
        }
        
        /* ============================================
           articles-container：記事を並べるコンテナ
           ============================================ */
        .articles-container {
            display: flex;
            /* フレックスボックス：要素を横並び（または縦並び）に配置 */
            flex-direction: column;
            /* フレックスの方向：縦方向（記事を縦に並べる） */
            gap: 25px;
            /* 要素間の間隔：25ピクセル（記事と記事の間） */
        }
        
        /* ============================================
           article-card：個々の記事カード（Liquid Glass効果のメイン）
           ============================================ */
        .article-card {
            /* 【Liquid Glass用】半透明の背景（グラデーション付き） */
            background: linear-gradient(
                135deg,
                /* グラデーションの角度：135度（左上から右下へ） */
                rgba(255, 255, 255, 0.15) 0%,
                /* 始まり：白を15%の透明度で（左上が少し明るい） */
                rgba(255, 255, 255, 0.05) 100%
                /* 終わり：白を5%の透明度で（右下が少し暗い） */
            );
            /* 例え：ガラスに光が当たって、上から下に明るさが変わる感じ */
            
            /* 【Liquid Glass用】背景のぼかし効果（ガラス越しに見える感じ） */
            backdrop-filter: blur(20px);
            /* 背景を20ピクセルぼかす：後ろの背景がぼやけて見える */
            -webkit-backdrop-filter: blur(20px);
            /* Safari用のぼかし：Safariブラウザでも動くようにする */
            /* 例え：曇りガラスや磨りガラス越しに見る感じ */
            
            /* 【Liquid Glass用】微細な境界線（ガラスの縁） */
            border: 1px solid rgba(255, 255, 255, 0.18);
            /* 境界線：白を18%の透明度で1ピクセルの実線 */
            /* 例え：ガラスの端に光が当たって、細い線が見える感じ */
            
            /* 【Liquid Glass用】柔らかい影（ガラスが浮いている感じ） */
            box-shadow: 
                0 8px 32px 0 rgba(0, 0, 0, 0.1),
                /* 外側の影：下に8ピクセル、32ピクセルぼかした黒10%の影 */
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
                /* 内側の影：上に1ピクセルの白20%の影（光が当たっている感じ） */
            /* 例え：ガラス板が少し浮いていて、下に柔らかい影ができる感じ */
            
            border-radius: 16px;
            /* 角の丸み：16ピクセル（丸みを帯びた角、より滑らか） */
            padding: 25px;
            /* 内側の余白：25ピクセル（記事の内容と端の間） */
            
            transition: all 0.3s ease;
            /* トランジション：すべての変化を0.3秒かけて滑らかに */
            /* 例え：マウスを乗せたときの変化がスムーズになる */
        }
        
        /* ============================================
           article-card:hover：マウスを乗せたときのスタイル
           ============================================ */
        .article-card:hover {
            /* hover = マウスを要素の上に乗せたとき */
            
            /* 【Liquid Glass用】ホバー時のより強いガラス効果 */
            background: linear-gradient(
                135deg,
                rgba(255, 255, 255, 0.2) 0%,
                /* 始まり：白を20%の透明度に（少し明るく） */
                rgba(255, 255, 255, 0.1) 100%
                /* 終わり：白を10%の透明度に（少し明るく） */
            );
            /* 例え：ガラスに光が当たって、より明るく見える感じ */
            
            box-shadow: 
                0 12px 48px 0 rgba(0, 0, 0, 0.15),
                /* 外側の影：より大きく、より濃い影 */
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
                /* 内側の影：より明るい光の反射 */
            /* 例え：ガラスがより浮き上がって、より明るく光っている感じ */
            
            transform: translateY(-2px);
            /* 変形：上に2ピクセル移動（浮き上がる感じ） */
        }
        
        /* ============================================
           article-header：記事のヘッダー（画像とタイトル部分）
           ============================================ */
        .article-header {
            display: flex;
            /* フレックスボックス：画像とテキストを横並びに */
            gap: 20px;
            /* 要素間の間隔：20ピクセル（画像とテキストの間） */
            margin-bottom: 15px;
            /* 下の余白：15ピクセル（ヘッダーの下にスペース） */
        }
        
        /* ============================================
           article-image：記事の画像
           ============================================ */
        .article-image {
            width: 150px;
            /* 画像の幅：150ピクセルに固定 */
            height: 100px;
            /* 画像の高さ：100ピクセルに固定 */
            object-fit: cover;
            /* オブジェクトフィット：画像を指定サイズに収まるように切り抜く */
            /* 例え：写真を同じサイズの額縁に収まるように調整する感じ */
            border-radius: 8px;
            /* 角の丸み：8ピクセル（画像の角を丸く） */
            flex-shrink: 0;
            /* フレックス縮小：縮小しない（サイズを保つ） */
            
            /* 【Liquid Glass用】画像にも軽いガラス効果（オプション） */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            /* 影：画像に軽い影を付けて立体感を出す */
        }
        
        /* ============================================
           article-image-placeholder：画像がない場合のプレースホルダー
           ============================================ */
        .article-image-placeholder {
            width: 150px;
            /* 幅：150ピクセル（画像と同じサイズ） */
            height: 100px;
            /* 高さ：100ピクセル（画像と同じサイズ） */
            
            /* 【Liquid Glass用】プレースホルダーにもガラス効果 */
            background: rgba(255, 255, 255, 0.1);
            /* 背景色：白を10%の透明度で */
            backdrop-filter: blur(10px);
            /* 背景のぼかし：10ピクセル（軽いぼかし） */
            -webkit-backdrop-filter: blur(10px);
            /* Safari用のぼかし */
            border: 1px solid rgba(255, 255, 255, 0.15);
            /* 境界線：白を15%の透明度で1ピクセル */
            
            border-radius: 8px;
            /* 角の丸み：8ピクセル */
            display: flex;
            /* フレックスボックス：「画像なし」の文字を中央に配置 */
            align-items: center;
            /* 縦方向の配置：中央 */
            justify-content: center;
            /* 横方向の配置：中央 */
            color: rgba(255, 255, 255, 0.6);
            /* 文字色：白を60%の透明度で（少し見えにくく） */
            font-size: 12px;
            /* フォントサイズ：12ピクセル */
            flex-shrink: 0;
            /* フレックス縮小：縮小しない */
        }
        
        /* ============================================
           article-content：記事の内容部分（タイトルと説明）
           ============================================ */
        .article-content {
            flex: 1;
            /* フレックス成長：残りのスペースを全て使う（画像の横に広がる） */
        }
        
        /* ============================================
           article-title-ja：日本語のタイトル
           ============================================ */
        .article-title-ja {
            font-size: 24px;
            /* フォントサイズ：24ピクセル（大きめのタイトル） */
            font-weight: bold;
            /* フォントの太さ：太字 */
            color: #ffffff;
            /* 文字色：白（背景が暗いので白が見やすい） */
            margin-bottom: 10px;
            /* 下の余白：10ピクセル（タイトルの下にスペース） */
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            /* テキストシャドウ：文字に軽い影を付けて読みやすくする */
        }
        
        /* ============================================
           article-title-en：英語のタイトル（原文）
           ============================================ */
        .article-title-en {
            font-size: 14px;
            /* フォントサイズ：14ピクセル（小さめ） */
            color: rgba(255, 255, 255, 0.7);
            /* 文字色：白を70%の透明度で（少し薄く） */
            margin-bottom: 10px;
            /* 下の余白：10ピクセル */
            font-style: italic;
            /* フォントスタイル：イタリック（斜体） */
        }
        
        /* ============================================
           article-description-ja：日本語の説明
           ============================================ */
        .article-description-ja {
            font-size: 16px;
            /* フォントサイズ：16ピクセル（読みやすいサイズ） */
            color: rgba(255, 255, 255, 0.9);
            /* 文字色：白を90%の透明度で（ほぼ不透明、読みやすい） */
            margin-bottom: 10px;
            /* 下の余白：10ピクセル */
            line-height: 1.8;
            /* 行の高さ：文字サイズの1.8倍（読みやすくなる） */
        }
        
        /* ============================================
           article-description-en：英語の説明（原文）
           ============================================ */
        .article-description-en {
            font-size: 12px;
            /* フォントサイズ：12ピクセル（小さめ） */
            color: rgba(255, 255, 255, 0.5);
            /* 文字色：白を50%の透明度で（薄く、参考程度に） */
            margin-bottom: 10px;
            /* 下の余白：10ピクセル */
            font-style: italic;
            /* フォントスタイル：イタリック（斜体） */
        }
        
        /* ============================================
           article-meta：記事のメタ情報（出典、日付、リンク）
           ============================================ */
        .article-meta {
            display: flex;
            /* フレックスボックス：メタ情報を横並びに */
            gap: 15px;
            /* 要素間の間隔：15ピクセル（各情報の間） */
            font-size: 12px;
            /* フォントサイズ：12ピクセル（小さめ） */
            color: rgba(255, 255, 255, 0.7);
            /* 文字色：白を70%の透明度で（少し薄く） */
            margin-top: 15px;
            /* 上の余白：15ピクセル（内容との間） */
            padding-top: 15px;
            /* 上の内側余白：15ピクセル */
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            /* 上の境界線：白を10%の透明度で1ピクセル（区切り線） */
        }
        
        /* ============================================
           article-link：記事へのリンク
           ============================================ */
        .article-link {
            color: rgba(255, 255, 255, 0.9);
            /* 文字色：白を90%の透明度で（見やすく） */
            text-decoration: none;
            /* テキスト装飾：なし（下線を消す） */
            font-weight: bold;
            /* フォントの太さ：太字 */
            transition: all 0.2s ease;
            /* トランジション：すべての変化を0.2秒かけて滑らかに */
        }
        
        /* ============================================
           article-link:hover：リンクにマウスを乗せたとき
           ============================================ */
        .article-link:hover {
            color: #ffffff;
            /* 文字色：完全な白（より明るく） */
            text-decoration: underline;
            /* テキスト装飾：下線（リンクだとわかりやすく） */
        }
        
        /* ============================================
           no-articles：記事がない場合のメッセージ
           ============================================ */
        .no-articles {
            text-align: center;
            /* テキストの配置：中央揃え */
            padding: 40px;
            /* 内側の余白：40ピクセル */
            color: rgba(255, 255, 255, 0.8);
            /* 文字色：白を80%の透明度で */
            font-size: 18px;
            /* フォントサイズ：18ピクセル */
            
            /* 【Liquid Glass用】メッセージにもガラス効果 */
            background: rgba(255, 255, 255, 0.1);
            /* 背景色：白を10%の透明度で */
            backdrop-filter: blur(10px);
            /* 背景のぼかし：10ピクセル */
            -webkit-backdrop-filter: blur(10px);
            /* Safari用のぼかし */
            border: 1px solid rgba(255, 255, 255, 0.15);
            /* 境界線：白を15%の透明度で1ピクセル */
            border-radius: 12px;
            /* 角の丸み：12ピクセル */
        }
    </style>
    <!-- CSSの終了 -->
</head>
<!-- ヘッドセクションの終了 -->

<body>
    <!-- ボディセクション：実際に表示される内容を書く場所 -->
    
    <div class="container">
        <!-- コンテナ：記事を入れる中央寄せの箱 -->
        
        <h1 class="main-title">Apple関連ニュース（日本語翻訳版）</h1>
        <!-- ページのタイトル：class="main-title"でスタイルを適用 -->
        
        {% if articles %}
        <!-- Jinja2テンプレート：articlesがあるかチェック -->
        <!-- articles = Flaskから渡された記事のリスト -->
        
        <div class="articles-container">
            <!-- 記事を並べるコンテナ：class="articles-container"でスタイルを適用 -->
            
            {% for article in articles %}
            <!-- Jinja2テンプレート：articlesの各記事に対して繰り返す -->
            <!-- article = 現在処理中の記事（辞書形式） -->
            
            <div class="article-card">
                <!-- 個々の記事カード：class="article-card"でLiquid Glass効果を適用 -->
                
                <div class="article-header">
                    <!-- 記事のヘッダー：画像とタイトル部分 -->
                    
                    {# 画像表示の仕組み:
                       1. article.urlToImageがあるかチェック（画像URLがあるか？）
                       2. あれば<img>タグで画像を表示
                       3. なければ「画像なし」のプレースホルダーを表示
                       4. 画像読み込みエラー時もプレースホルダーを表示
                    #}
                    {% if article.urlToImage %}
                    <!-- Jinja2テンプレート：画像URLがあるかチェック -->
                    <!-- article.urlToImage = 記事の画像URL -->
                    
                    {# 画像URLがある場合: <img>タグで画像を表示 #}
                    <img src="{{ article.urlToImage }}" 
                         <!-- src属性：画像のURL（Flaskから渡された値） -->
                         alt="{{ article.title_ja }}" 
                         <!-- alt属性：画像が表示できない場合の代替テキスト（日本語タイトル） -->
                         class="article-image" 
                         <!-- class属性：CSSのスタイルを適用 -->
                         onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                         <!-- onerror属性：画像読み込みエラー時の処理 -->
                         <!-- this.style.display='none' = この画像を非表示にする -->
                         <!-- this.nextElementSibling.style.display='flex' = 次の要素（プレースホルダー）を表示する -->
                    
                    {# 画像読み込みエラー時の代替表示（最初は非表示） #}
                    <div class="article-image-placeholder" style="display: none;">画像なし</div>
                    <!-- プレースホルダー：画像がない場合やエラー時に表示 -->
                    <!-- style="display: none;" = 最初は非表示（エラー時のみ表示） -->
                    
                    {% else %}
                    <!-- Jinja2テンプレート：画像URLがない場合 -->
                    
                    {# 画像URLがない場合: 「画像なし」を表示 #}
                    <div class="article-image-placeholder">画像なし</div>
                    <!-- プレースホルダー：画像URLがないので最初から表示 -->
                    
                    {% endif %}
                    <!-- Jinja2テンプレート：if文の終了 -->
                    
                    <div class="article-content">
                        <!-- 記事の内容部分：タイトルと説明 -->
                        
                        <h2 class="article-title-ja">{{ article.title_ja }}</h2>
                        <!-- 日本語タイトル：h2タグで見出しとして表示 -->
                        <!-- {{ article.title_ja }} = Flaskから渡された日本語タイトル -->
                        
                        {% if article.title_en %}
                        <!-- Jinja2テンプレート：英語タイトルがあるかチェック -->
                        <p class="article-title-en">原文: {{ article.title_en }}</p>
                        <!-- 英語タイトル（原文）：参考として表示 -->
                        <!-- {{ article.title_en }} = Flaskから渡された英語タイトル -->
                        {% endif %}
                        <!-- Jinja2テンプレート：if文の終了 -->
                        
                        {% if article.description_ja %}
                        <!-- Jinja2テンプレート：日本語説明があるかチェック -->
                        <p class="article-description-ja">{{ article.description_ja }}</p>
                        <!-- 日本語説明：記事の内容を表示 -->
                        <!-- {{ article.description_ja }} = Flaskから渡された日本語説明 -->
                        {% endif %}
                        <!-- Jinja2テンプレート：if文の終了 -->
                        
                        {% if article.description_en %}
                        <!-- Jinja2テンプレート：英語説明があるかチェック -->
                        <p class="article-description-en">原文: {{ article.description_en }}</p>
                        <!-- 英語説明（原文）：参考として表示 -->
                        <!-- {{ article.description_en }} = Flaskから渡された英語説明 -->
                        {% endif %}
                        <!-- Jinja2テンプレート：if文の終了 -->
                    </div>
                    <!-- article-contentの終了 -->
                </div>
                <!-- article-headerの終了 -->
                
                <div class="article-meta">
                    <!-- 記事のメタ情報：出典、日付、リンク -->
                    
                    {% if article.source %}
                    <!-- Jinja2テンプレート：出典があるかチェック -->
                    <span>出典: {{ article.source }}</span>
                    <!-- 出典：記事の出所を表示 -->
                    <!-- {{ article.source }} = Flaskから渡された出典名 -->
                    {% endif %}
                    <!-- Jinja2テンプレート：if文の終了 -->
                    
                    {% if article.publishedAt %}
                    <!-- Jinja2テンプレート：公開日があるかチェック -->
                    <span>公開日: {{ article.publishedAt[:10] }}</span>
                    <!-- 公開日：記事の公開日を表示 -->
                    <!-- {{ article.publishedAt[:10] }} = 公開日の最初の10文字（YYYY-MM-DD部分のみ） -->
                    {% endif %}
                    <!-- Jinja2テンプレート：if文の終了 -->
                    
                    {% if article.url %}
                    <!-- Jinja2テンプレート：記事URLがあるかチェック -->
                    <a href="{{ article.url }}" target="_blank" class="article-link">元記事を読む →</a>
                    <!-- 記事へのリンク：元の記事を読むためのリンク -->
                    <!-- href="{{ article.url }}" = リンク先のURL（Flaskから渡された値） -->
                    <!-- target="_blank" = 新しいタブで開く -->
                    <!-- class="article-link" = CSSのスタイルを適用 -->
                    {% endif %}
                    <!-- Jinja2テンプレート：if文の終了 -->
                </div>
                <!-- article-metaの終了 -->
            </div>
            <!-- article-cardの終了 -->
            
            {% endfor %}
            <!-- Jinja2テンプレート：for文の終了（次の記事へ） -->
        </div>
        <!-- articles-containerの終了 -->
        
        {% else %}
        <!-- Jinja2テンプレート：articlesがない場合 -->
        
        <div class="no-articles">
            <!-- 記事がない場合のメッセージ：class="no-articles"でスタイルを適用 -->
            記事が見つかりませんでした。
            <!-- メッセージの内容 -->
        </div>
        <!-- no-articlesの終了 -->
        
        {% endif %}
        <!-- Jinja2テンプレート：if文の終了 -->
    </div>
    <!-- containerの終了 -->
</body>
<!-- ボディセクションの終了 -->
</html>
<!-- HTMLの終了 -->

